<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Commandez mon livre</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Inter', sans-serif;
      background-color: #f5f6fa;
      margin: 0;
      padding: 0;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      min-height: 100vh;
    }
    form {
      background: white;
      padding: 2rem 2.5rem;
      border-radius: 20px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.08);
      max-width: 700px;
      width: 90%;
      margin: 3rem 0;
    }
    h1 { text-align: center; font-size: 1.8rem; color: #2C3345; }
    h2 { font-size: 1.1rem; color: #555; text-align: center; margin-top: -0.5rem; font-weight: 400; }
    label { font-weight: 600; margin-top: 1rem; display: block; color: #2C3345; }
    input, textarea, select {
      width: 100%;
      padding: 0.7rem;
      margin-top: 0.3rem;
      border: 1px solid #ccc;
      border-radius: 8px;
      font-size: 1rem;
      font-family: inherit;
      box-sizing: border-box;
    }
    textarea { resize: vertical; }
    button {
      background-color: #1e40af;
      color: white;
      padding: 0.9rem 1.5rem;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      font-size: 1rem;
      font-weight: 600;
      width: 100%;
      margin-top: 1.5rem;
      transition: background-color 0.3s;
    }
    button:hover { background-color: #1d4ed8; }
    .img-wrapper { text-align: center; margin: 1rem 0; }
    .img-wrapper img { width: 120%; max-width: 400px; border-radius: 10px; }
    ol { margin-left: 1rem; }
    ul { margin-left: 1rem; }
	.btn-relay {
	  width: 1.5rem;       /* largeur fixe */
	  height: 1.5rem;      /* hauteur fixe */
	  padding: 0;           /* aucun padding */
	  font-size: 0.9rem;    /* petit texte / emoji */
	  line-height: 1;        /* compacte verticalement */
	  vertical-align: middle; /* <-- cl√© pour aligner sur le texte */
	  text-align: center;
	  cursor: pointer;
	  position: relative;
	  top: -10px; /* <- remonte le bouton de 2 pixels */
	}

  </style>
</head>
<body>

  <form id="CommandForm" action="https://script.google.com/macros/s/AKfycbxNXqkgFU0EG51EZeyTwy-gF90anOwYl8LSQk3yQcg-2ZhJYyn54UpW1YQt_VjE2che/exec" method="POST">
    <h1>Commander mon livre</h1>
    <h2>(disponible √† partir du 12/12/2025)</h2>

    <div class="img-wrapper">
      <img src="https://raw.githubusercontent.com/DELHEZISA/Mon-livre/main/4√®me.jpg" alt="Couverture du livre">
    </div>

    <!-- Instructions -->
    <p><strong>Voici la marche √† suivre :</strong></p>
    <ol>
      <li>Remplir le formulaire ci-dessous et cliquer sur ¬´ Passer la commande ¬ª.</li>
      <li>Effectuer le paiement sur le compte <strong>BE53 0689 0960 0753</strong> au nom de <strong>DELHEZ Isabelle</strong>, avec comme communication <strong>Livre (quantit√©) + vos nom & pr√©nom</strong>.</li>
      <li>Si vous venez chercher la commande, contactez le <strong>+32 496 81 11 03</strong> pour convenir d‚Äôun moment √† l‚Äôadresse : <em>27, rue des Imprimeurs ‚Äì 4801 Stembert</em>.</li>
      <li>Si vous avez demand√© une exp√©dition, nous vous l‚Äôenverrons dans le Point Relais Mondial Relay que vous aurez indiqu√©.</li>
    </ol>

    <label for="nom">Votre nom *</label>
    <input type="text" id="nom" name="Nom" required>

    <label for="prenom">Votre pr√©nom *</label>
    <input type="text" id="prenom" name="Pr√©nom" required>

    <label for="email">Votre adresse e-mail *</label>
    <input type="email" id="email" name="Email" required>

    <label for="telephone">Votre n¬∞ de t√©l√©phone *</label>
    <input type="tel" id="telephone" name="T√©l√©phone" placeholder="+32 / +33 ..." required>

    <label for="quantite">Quelle quantit√© souhaitez-vous commander ? *</label>
    <input type="number" id="quantite" name="Quantit√©" required>

    <label for="livraison">Viendrez-vous chercher la commande ou devons-nous l‚Äôexp√©dier ? *</label>
    <select id="livraison" name="Mode de r√©ception" required>
      <option value="">-- Choisissez une option --</option>
      <option value="Je viendrai chercher la commande">Je viendrai chercher la commande</option>
      <option value="Exp√©diez ma commande">Exp√©diez ma commande</option>
    </select>

	<label for="adresse" style="display:flex; align-items:center; gap:5px;">
	  Adresse d'un Point Relais Mondial Relay (cliquer pour le chercher ->)
	  <button type="button" class="btn-relay" 
			  onclick="window.open('https://www.mondialrelay.be/fr-be/trouver-le-point-relais-le-plus-proche-de-chez-moi/', '_blank')">
		üîç
	  </button>
	</label>
	<textarea id="adresse" name="Adresse" rows="3" placeholder="Rue, n¬∞, Code postal, Localit√©"></textarea>

    <label for="infos">Informations compl√©mentaires</label>
    <textarea id="infos" name="Informations compl√©mentaires" rows="4"></textarea>

    <!-- Tarifs -->
    <p><strong>Quel montant devez-vous verser ?</strong></p>
    <ul>
      <li>Prix du livre : <strong>28 ‚Ç¨</strong></li>
      <li>Exp√©dition en Belgique : <strong>4,25 ‚Ç¨</strong></li>
      <li>Exp√©dition en France : <strong>7 ‚Ç¨</strong></li>
    </ul>

    <!-- Champs cach√©s pour GAS -->
    <input type="hidden" name="feuille" value="Commandes">
    <input type="hidden" name="debug" value="true">

    <button type="submit" id="submitButton">Passer la commande</button>
  </form>

  <!-- Script fetch pour soumission et redirection -->
  <script>
    const form = document.getElementById('CommandForm');
    const submitButton = document.getElementById('submitButton');

    form.addEventListener('submit', function(e) {
      e.preventDefault();
      submitButton.disabled = true;
      submitButton.innerText = "Commande en cours...";

      const data = new FormData(form);

      fetch(form.action, { method: 'POST', body: data })
      .then(res => res.text())
      .then(text => {
        if (text.includes('success')) {
          window.location.href = 'https://delhezisa.github.io/Mon-livre/merci.html';
        } else {
          alert('Une erreur est survenue. R√©essayez plus tard.');
          submitButton.disabled = false;
          submitButton.innerText = "Passer la commande";
        }
      })
      .catch(err => {
        alert('Erreur r√©seau : ' + err.message);
        submitButton.disabled = false;
        submitButton.innerText = "Passer la commande";
      });
    });
  </script>

</body>
</html>
